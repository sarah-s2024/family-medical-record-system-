# 医疗数据管理系统

一个完整的医疗数据管理系统，支持PDF文档上传解析、手动数据录入、患者管理和疾病报告生成。

## 功能特性

### 🏥 核心功能
- **PDF文档上传解析** - 支持就诊记录、检验报告、检查报告等PDF文档的自动解析
- **手动数据录入** - 提供友好的表单界面，支持手动输入医疗记录
- **患者管理** - 完整的患者信息管理系统
- **疾病报告生成** - 根据疾病类型自动生成分析报告
- **数据筛选和搜索** - 强大的数据检索和筛选功能

### 📊 数据分析
- **智能文档分类** - 自动识别文档类型（就诊记录、检验报告、检查报告等）
- **关键词提取** - 自动提取疾病关键词，支持常见疾病识别
- **时间线分析** - 生成疾病发展时间线
- **统计报表** - 提供详细的统计数据和可视化图表

### 🎨 用户界面
- **现代化设计** - 基于Ant Design的现代化UI界面
- **响应式布局** - 支持各种屏幕尺寸
- **直观操作** - 简单易用的操作界面
- **实时反馈** - 即时的操作反馈和状态提示

## 技术栈

### 后端
- **Node.js** - 服务器运行环境
- **Express.js** - Web应用框架
- **Multer** - 文件上传处理
- **pdf-parse** - PDF文档解析
- **fs-extra** - 文件系统操作
- **UUID** - 唯一标识符生成

### 前端
- **React** - 用户界面框架
- **Ant Design** - UI组件库
- **React Router** - 路由管理
- **Axios** - HTTP客户端
- **Day.js** - 日期处理

## 安装和运行

### 环境要求
- Node.js 14.0 或更高版本
- npm 或 yarn 包管理器

### 安装步骤

1. **克隆项目**
```bash
git clone <repository-url>
cd 医疗软件管理系统
```

2. **安装后端依赖**
```bash
npm install
```

3. **安装前端依赖**
```bash
cd client
npm install
cd ..
```

4. **启动开发服务器**

启动后端服务器：
```bash
npm run dev
```

启动前端开发服务器：
```bash
cd client
npm start
```

5. **访问应用**
- 前端界面：http://localhost:3000
- 后端API：http://localhost:5000

### 生产环境部署

1. **构建前端**
```bash
cd client
npm run build
cd ..
```

2. **启动生产服务器**
```bash
npm start
```

## 使用指南

### 1. 仪表板
- 查看系统概览和统计数据
- 监控最近添加的医疗记录
- 查看疾病分布统计

### 2. PDF上传
- 支持拖拽上传PDF文件
- 自动解析文档内容
- 提取患者信息、诊断结果、症状等
- 识别疾病关键词

### 3. 手动录入
- 填写患者基本信息
- 输入医疗机构信息
- 根据文档类型输入相应的医疗数据：
  - **检验报告**：检验分类、检验项目、检验结果
  - **检查报告**：检查类型、检查名称、检查描述、检查结果
  - **门诊记录**：科室、医生姓名、主诉、现病史、体格检查、评估和计划、随访
  - **住院记录**：科室、主治医师、主诉、现病史、病程记录、会诊记录、手术记录、实验室和影像学检查、出院计划、出院检查、用药指导、随访
  - **其他**：诊断结果、症状描述、治疗方案
- 添加疾病关键词
- 支持快速添加常见疾病

### 4. 医疗记录管理
- 查看所有医疗记录
- 按文档类型、疾病、关键词筛选
- 搜索特定内容
- 查看详细记录信息

### 5. 疾病报告生成
- 选择疾病类型
- 可选择特定患者或包含所有患者
- 生成包含症状分析、治疗方案、检验结果的完整报告
- 显示疾病发展时间线

### 6. 患者管理
- 添加新患者信息
- 查看患者列表和详情
- 管理患者基本信息和病史

## 数据格式

### PDF文档格式要求
系统支持以下格式的PDF文档：
- **医疗机构信息**：支持识别医疗机构、医院、诊所、医疗中心等
- **就诊记录**：包含患者信息、症状、诊断等
- **检验报告**：包含检验结果、参考值等
- **检查报告**：包含检查类型（MRI、CT、X线、超声、骨密度、睡眠监测、肺功能、电生理、核医学、内镜）、检查名称、检查描述、检查结果等

### 手动录入数据格式
```json
{
  "documentType": "visit_note",
  "patientInfo": {
    "name": "患者姓名",
    "age": 30,
    "gender": "男"
  },
  "medicalData": {
    "medicalInstitution": "医疗机构名称",
    "diagnosis": "诊断结果",
    "symptoms": "症状描述",
    "treatment": "治疗方案"
  },
  "keywords": ["高血压", "糖尿病"]
}
```

## API接口

### 主要接口
- `POST /api/upload-pdf` - 上传PDF文件
- `POST /api/add-record` - 添加医疗记录
- `GET /api/records` - 获取所有记录
- `GET /api/records/disease/:disease` - 按疾病获取记录
- `POST /api/generate-report` - 生成疾病报告
- `GET /api/patients` - 获取患者列表
- `POST /api/patients` - 添加患者

## 文件结构

```
医疗软件管理系统/
├── server.js              # 后端服务器
├── package.json           # 后端依赖
├── data/                  # 数据存储目录
├── uploads/               # 文件上传目录
├── client/                # 前端应用
│   ├── public/           # 静态文件
│   ├── src/              # 源代码
│   │   ├── components/   # 组件
│   │   ├── pages/        # 页面
│   │   ├── utils/        # 工具函数
│   │   ├── App.js        # 主应用
│   │   └── index.js      # 入口文件
│   └── package.json      # 前端依赖
└── README.md             # 项目说明
```

## 注意事项

1. **数据安全** - 系统将数据存储在本地JSON文件中，生产环境建议使用数据库
2. **文件大小** - PDF文件大小限制为10MB
3. **文档格式** - 确保PDF文档包含可提取的文本内容
4. **备份** - 定期备份data目录中的数据文件

## 扩展功能

### 可能的改进方向
- 添加数据库支持（MySQL、MongoDB等）
- 实现用户认证和权限管理
- 添加数据导出功能（Excel、PDF报告）
- 集成OCR技术提高PDF解析精度
- 添加数据可视化图表
- 实现多语言支持
- 添加数据备份和恢复功能

## 许可证

MIT License

## 贡献

欢迎提交Issue和Pull Request来改进这个项目。

## 联系方式

如有问题或建议，请通过以下方式联系：
- 提交GitHub Issue
- 发送邮件至项目维护者

---

**免责声明**：本系统仅用于学习和演示目的，不适用于生产环境的医疗数据管理。在实际医疗环境中使用前，请确保符合相关法律法规和医疗数据安全要求。 